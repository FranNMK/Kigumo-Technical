<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Kigumo Technical And Vocational College</title>
  <link rel="shortcut icon" href="FrontEnd/images/fav.png" type="image/x-icon" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous" />

  <style>
    /* ---- Make nested submenus work on desktop (flyout) and mobile (inline) ---- */
    .dropdown-submenu { position: relative; }

    /* Desktop flyout to the right */
    .dropdown-submenu > .dropdown-menu {
      top: 0;
      left: 100%;
      margin-top: -0.125rem;
    }

    @media (min-width: 992px) {
      .navbar .dropdown:hover > .dropdown-menu { display: block; }
      .navbar .dropdown-submenu:hover > .dropdown-menu { display: block; }
    }

    /* Mobile: make dropdown menus flow in document and submenus collapsible */
    @media (max-width: 991.98px) {
      .navbar-collapse .dropdown-menu {
        position: static !important;
        float: none;
        width: 100%;
      }
      .dropdown-submenu > .dropdown-menu {
        display: none; /* hidden by default on mobile */
        padding-left: 0.75rem;
      }
      .dropdown-submenu > .dropdown-menu.show {
        display: block;
      }
      .navbar-collapse .dropdown-item { width: 100%; }
    }

    /* Brand responsiveness */
    .navbar-brand img { max-height: 48px; width: auto; }
    .brand-abbrev { display:inline; }
    .brand-full { display:none; }
    @media (min-width: 768px) {
      .brand-abbrev { display:none; }
      .brand-full { display:inline; }
    }

    /* Carousel image fit */
    .carousel-item img { object-fit: cover; width:100%; max-height: 70vh; }

    /* Minor spacing */
    @media (max-width: 575.98px) {
      .navbar-brand { padding-left: 0.5rem; }
      .navbar .nav-link { padding-left: 0.5rem; padding-right: 0.5rem; }
    }

    /* Custom toggler: hamburger -> X animation */
    .navbar-toggler {
      border: none;
      width: 44px;
      height: 44px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0;
    }
    .toggler-icon {
      display: inline-block;
      width: 22px;
      height: 18px;
      position: relative;
    }
    .toggler-icon .bar {
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      height: 2px;
      background: currentColor;
      transition: transform .25s ease, opacity .2s ease;
      border-radius: 2px;
    }
    .toggler-icon .bar:nth-child(1) { top: 0; }
    .toggler-icon .bar:nth-child(2) { top: 50%; transform: translateY(-50%); }
    .toggler-icon .bar:nth-child(3) { bottom: 0; }

    /* When the button is NOT collapsed (menu open) transform bars into an X */
    .navbar-toggler:not(.collapsed) .toggler-icon .bar:nth-child(1) {
      transform: translateY(8px) rotate(45deg);
    }
    .navbar-toggler:not(.collapsed) .toggler-icon .bar:nth-child(2) {
      opacity: 0;
    }
    .navbar-toggler:not(.collapsed) .toggler-icon .bar:nth-child(3) {
      transform: translateY(-8px) rotate(-45deg);
    }
  </style>
</head>

<body>
  <!-- Combined navbar: brand + toggler + nav items + search -->
  <nav class="navbar navbar-expand-lg navbar-light bg-body-tertiary" aria-label="Main navigation">
    <div class="container-fluid">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <img src="FrontEnd/images/official_logo.jpg" alt="Kigumo logo" class="img-fluid" />
        <span class="ms-2">
          <span class="brand-abbrev">Kigumo TVC</span>
          <span class="brand-full">Kigumo Technical And Vocational College</span>
        </span>
      </a>

      <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavCollapse"
        aria-controls="mainNavCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="toggler-icon" aria-hidden="true"><span class="bar"></span><span class="bar"></span><span class="bar"></span></span>
        <span class="visually-hidden">Toggle navigation</span>
      </button>

      <div class="collapse navbar-collapse" id="mainNavCollapse">
        <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link active" href="#">Home</a></li>

          <!-- About with nested Administration submenu -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" aria-expanded="false">About</a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">About Kigumo TVC</a></li>
              <li><a class="dropdown-item" href="#">Service Charter</a></li>
              <li><a class="dropdown-item" href="#">QMS</a></li>
              <li><a class="dropdown-item" href="#">Vision &amp; Mission</a></li>
              <li><hr class="dropdown-divider"></li>

              <li class="dropdown-submenu">
                <!-- This toggle will be handled by JS on mobile; keep data-bs-toggle for accessibility -->
                <a class="dropdown-item dropdown-toggle" href="#" aria-expanded="false">Administration</a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Board of Management</a></li>
                  <li><a class="dropdown-item" href="#">Chief Principal</a></li>
                  <li><a class="dropdown-item" href="#">Deputy Principal Academics</a></li>
                  <li><a class="dropdown-item" href="#">Deputy Principal Administration</a></li>
                  <li><a class="dropdown-item" href="#">Dean of Students</a></li>
                  <li><a class="dropdown-item" href="#">Head of Departments / HOS</a></li>
                </ul>
              </li>
            </ul>
          </li>

          <!-- Departments with nested Academic and Non-Academic -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" aria-expanded="false">Departments</a>
            <ul class="dropdown-menu">
              <li class="dropdown-submenu">
                <a class="dropdown-item dropdown-toggle" href="#" aria-expanded="false">Academic</a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">ICT</a></li>
                  <li><a class="dropdown-item" href="#">Agriculture</a></li>
                  <li><a class="dropdown-item" href="#">Mechanical</a></li>
                  <li><a class="dropdown-item" href="#">Building &amp; Construction</a></li>
                  <li><a class="dropdown-item" href="#">Electrical &amp; Electronics</a></li>
                  <li><a class="dropdown-item" href="#">Hospitality</a></li>
                  <li><a class="dropdown-item" href="#">Cosmetology</a></li>
                  <li><a class="dropdown-item" href="#">Fashion &amp; Design</a></li>
                </ul>
              </li>

              <li><hr class="dropdown-divider"></li>

              <li class="dropdown-submenu">
                <a class="dropdown-item dropdown-toggle" href="#" aria-expanded="false">Non Academic</a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Board of Management</a></li>
                  <li><a class="dropdown-item" href="#">Sports</a></li>
                  <li><a class="dropdown-item" href="#">Guidance &amp; Counselling</a></li>
                  <li><a class="dropdown-item" href="#">Science</a></li>
                  <li><a class="dropdown-item" href="#">Marketing &amp; Advertisement</a></li>
                  <li><a class="dropdown-item" href="#">Music</a></li>
                </ul>
              </li>
            </ul>
          </li>

          <li class="nav-item"><a class="nav-link" href="#">Courses</a></li>
          <li class="nav-item"><a class="nav-link" href="#">News &amp; Events</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Contact us</a></li>
        </ul>

        <form class="d-flex ms-auto ms-lg-0" role="search">
          <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" />
          <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
      </div>
    </div>
  </nav>

  <!-- carousel (unchanged) -->
  <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="FrontEnd/images/school1.jpg" class="d-block w-100" alt="">
      </div>
      <div class="carousel-item">
        <img src="FrontEnd/images/adm1.jpg" class="d-block w-100" alt="">
      </div>
      <div class="carousel-item">
        <img src="FrontEnd/images/tra1.jpg" class="d-block w-100" alt="">
      </div>
      <div class="carousel-item">
        <img src="FrontEnd/images/tree planting 1.jpg" class="d-block w-100" alt="">
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span>
    </button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
    crossorigin="anonymous"></script>

  <script>
    // Nested submenu toggles: works on mobile (collapsed) and preserves desktop hover.
    document.addEventListener('DOMContentLoaded', function () {
      // Open/close nested submenus when their toggle is clicked (mobile-friendly)
      document.querySelectorAll('.dropdown-submenu > .dropdown-toggle').forEach(function (toggle) {
        toggle.addEventListener('click', function (e) {
          // Only intervene for touch/small screens where dropdown-menu is in the flow
          if (window.matchMedia('(max-width: 991.98px)').matches) {
            e.preventDefault();
            e.stopPropagation();
            var submenu = toggle.nextElementSibling;
            if (!submenu) return;
            var isOpen = submenu.classList.contains('show');
            // close siblings
            var parentMenu = toggle.closest('.dropdown-menu');
            if (parentMenu) {
              parentMenu.querySelectorAll(':scope > .dropdown-submenu > .dropdown-menu.show').forEach(function (open) {
                if (open !== submenu) open.classList.remove('show');
              });
            }
            if (isOpen) {
              submenu.classList.remove('show');
              toggle.setAttribute('aria-expanded', 'false');
            } else {
              submenu.classList.add('show');
              toggle.setAttribute('aria-expanded', 'true');
            }
          }
        });
      });

      // When any top-level dropdown (Bootstrap) is hidden, remove .show from nested menus
      document.querySelectorAll('.dropdown').forEach(function (dd) {
        dd.addEventListener('hide.bs.dropdown', function () {
          this.querySelectorAll('.dropdown-menu.show').forEach(function (m) { m.classList.remove('show'); });
          this.querySelectorAll('.dropdown-toggle[aria-expanded]').forEach(function (t) { t.setAttribute('aria-expanded', 'false'); });
        });
      });

      // Preserve desktop hover behaviour for dropdowns
      if (window.matchMedia('(min-width: 992px)').matches && window.matchMedia('(hover: hover)').matches) {
        document.querySelectorAll('.navbar .dropdown').forEach(function (dd) {
          const toggle = dd.querySelector('[data-bs-toggle="dropdown"]');
          if (!toggle) return;
          const instance = bootstrap.Dropdown.getOrCreateInstance(toggle);
          dd.addEventListener('mouseenter', function () { instance.show(); });
          dd.addEventListener('mouseleave', function () { instance.hide(); });
        });
        document.querySelectorAll('.navbar .dropdown-submenu').forEach(function (sm) {
          sm.addEventListener('mouseenter', function () {
            const menu = sm.querySelector(':scope > .dropdown-menu');
            if (menu) menu.classList.add('show');
          });
          sm.addEventListener('mouseleave', function () {
            const menu = sm.querySelector(':scope > .dropdown-menu');
            if (menu) menu.classList.remove('show');
          });
        });
      }
    });
  </script>
</body>
</html>